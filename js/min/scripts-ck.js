function randomIngredient(){var e="carrot cake polenta asparagus brocoli musli lime steam lamb pork tulips deodorant".split(" ");return e[Math.floor(Math.random()*e.length)]}function getRandomColor(){for(var e="0123456789ABCDEF".split(""),t="#",i=0;6>i;i++)t+=e[Math.floor(16*Math.random())];return t}function setElementsHeight(){var e=$("body").height(),t=e/9,i=$(".dice").length,n=(e-t)/i;$(".dice").each(function(e){$(this).height(n),$(this).css("top",e*n)}),$(".dice").each(function(){$(this).css("background-color",getRandomColor())}),$(".dice .ingredient").css("line-height",n+"px"),$(".dice .phrase").css("line-height",n+"px"),$(".dice .funny-text").css("line-height",n+"px"),$(".menu").height(1*t),$(".menu").css("line-height",1*t+"px"),$(".vegToggle").css("line-height",.7*t+"px"),$(".menu").velocity({boxShadowBlur:10},0),$(".svg-handler").each(function(e){var t=e.map(0,3,10,15)*(e%2==0?1:-1)})}function changeRegime(){$(".vegToggle").hammer().on("drag",function(e){e.gesture.preventDefault(),$(this).velocity({right:"-="+e.gesture.deltaX.map(0,$("body").width(),0,50)+"%"},1),$(this).velocity({opacity:Math.abs(e.gesture.deltaX).map(0,$("body").width(),1,0)},1)})}function makeMenu(){}Number.prototype.map=function(e,t,i,n){return(this-e)*(n-i)/(t-e)+i},function(){var e=1;$.fn.bringToTop=function(){this.css("z-index",++e)}}();var vegan=!1;$(document).ready(function(){setElementsHeight(),makeMenu(),changeRegime();var e=!0,t=!0,i=!1,n=!1,o=!1,r=!1,c=!1,a=!1,d=0;$("body").hammer().on("hold",function(e){console.log("what is wrong?"),o&&($(".dc").velocity("fadeIn",{duration:100,complete:function(){o=!1}}),$(".mc").velocity("fadeOut","fast"))}),$(".dice").hammer().on("dragdown",function(t){o||(t.gesture.preventDefault(!0),i=!0,1==e&&($(".dice").velocity("stop",!0),$(".dice").velocity({boxShadowBlur:0},0),e=!1,$(".dice").each(function(e){var t=$(this);setTimeout(function(){$(t).velocity({scale:.8},{duration:900,easing:[600,20]})},40*e)})))}).on("dragend",function(t){i&&(n||1&&(console.log("released from drag"),e=!0,$(".dice").velocity("stop",!0),$(".dice").velocity({scale:1,translateX:0,translateY:0},{easing:[400,20],complete:function(){i=!1}}),$(".dice").each(function(){var e=getRandomColor();$(this).css("background-color",e),$(this).find(".ingredient").css("background-color",e),$(this).find(".ingredient").find(".ingredient-text").html(randomIngredient())})))});var s=!1,l=!1,g=!1,h=!1;$(".dice").hammer().on("touch",function(e){if(!o){e.gesture.preventDefault(!0);var t=$(this);setTimeout(function(){i||n||($(t).bringToTop(),$(t).velocity({boxShadowBlur:30},{duration:2,complete:function(){h=!0},begin:function(){foucused=!1,s=!0}}))},50)}});var u=!1,f=!1;$(".dice").hammer().on("dragleft",function(e){if(!i&&!n&&!o){if(e.gesture.preventDefault(),!h)return void console.log("aha!");$(this).find(".ingredient").css("left",.4*$("body").width()+e.gesture.deltaX+"px"),$(this).find(".ingredient").velocity({opacity:e.gesture.deltaX.map(0,-190,1,0)},1),e.gesture.deltaX<-100&&(u=!0)}}),$(".dice").hammer().on("dragright",function(e){if(!i&&!n&&!o){if(e.gesture.preventDefault(),!h)return void console.log("aha!");f=!0,$(this).find(".ingredient").css("left",.4*$("body").width()+e.gesture.deltaX+"px"),$(this).find(".ingredient").velocity({opacity:e.gesture.deltaX.map(0,100,1,0)},1),e.gesture.deltaX>100&&(u=!0)}}),$(".dice").hammer().on("release",function(e){if(!i&&!n&&!o&&1)if(s&&(l||$(this).velocity("stop",!0),$(this).velocity({boxShadowBlur:0},{duration:300,complete:function(){s=!1}})),l&&$(this).velocity({boxShadowBlur:0,scale:1},{duration:300,complete:function(){s=!1}}),u){console.log("refreshingElement"),u=!1,$(this).find(".ingredient").css("opacity","0"),$(this).find(".ingredient").css("left","40%");var t=getRandomColor();console.log(t),$(this).find(".ingredient").css("background-color",t),$(this).velocity({backgroundColor:t},{duration:250}),$(this).find(".ingredient").find(".ingredient-text").html(randomIngredient()),f?($(this).find(".ingredient").velocity("transition.bounceLeftIn",600),f=!1):$(this).find(".ingredient").velocity("transition.bounceRightIn",600)}else f?($(this).find(".ingredient").velocity({left:"40%",opacity:1},200),f=!1):$(this).find(".ingredient").velocity({left:"40%",opacity:1},200)})});