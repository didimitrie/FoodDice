function randomIngredient(){var e="carrot-cake polenta asparagus-brocoli musli lime leek-salad steam lamb pork tulips deodorant mashed-potatoes".split(" ");return e[Math.floor(Math.random()*e.length)]}function getRandomColor(){for(var e="0123456789ABCDEF".split(""),t="#",i=0;6>i;i++)t+=e[Math.floor(16*Math.random())];return t}function setElementsHeight(){var e=$(".dice").length;$(".dice").each(function(){$(this).css("background-color",getRandomColor()),$(this).css("height",100/e+"%")}),$(".title").each(function(){$(this).css("background-color",getRandomColor())}),$(".dice .ingredient").css("line-height",.7*$(".dice").height()+"px"),$(".dice .phrase").css("line-height",.3*$(".dice").height()+"px"),$(".menu").css("line-height",$("#menu-holder").height()+"px"),$(".title").css("line-height",$(".title").height()+"px"),$("#menu-holder").velocity({boxShadowBlur:20},0)}function changeRegime(){}function makeMenu(){}Number.prototype.map=function(e,t,i,o){return(this-e)*(o-i)/(t-e)+i},function(){var e=1;$.fn.bringToTop=function(){this.css("z-index",++e)}}();var vegan=!1;$(document).ready(function(){setElementsHeight(),makeMenu(),changeRegime();var e=!0,t=!0,i=!1,o=!1,n=!1,s=0;$(".title").css("height","25%"),$(".title").css("line-height",$(".title").height()+"px"),$("#menu-holder").hammer().on("tap",function(e){if(console.log("closing or opening something else."),n=!n){var t=0;$(this).velocity({top:t+"%"},{duration:400}),$(".inner-holder").velocity({marginTop:"0%"},{duration:1})}else{var t=90;$(this).velocity({top:t+"%"},{duration:350,complete:function(){var e=$("body").height(),t=.1*e,i=0,o=0;$(".title").each(function(e){return $(this).hasClass("active")?(i=e,void(o=$(this).position().top)):void 0}),$(this).find(".inner-holder").velocity({marginTop:-o-$(".title").height()/3+"px"},{duration:1200,easing:[600,20]})}})}}),$(".title").hammer().on("tap",function(){n&&($(".title").removeClass("active"),$(this).addClass("active"),$(this).bringToTop())}),$("body").hammer().on("hold",function(e){}),$("#dice-holder").hammer().on("dragdown",function(t){t.gesture.preventDefault(!0),i=!0,1==e&&($(".dice").velocity("stop",!0),$(".dice").velocity({boxShadowBlur:0},0),e=!1,$(".dice").each(function(e){var t=$(this);setTimeout(function(){$(t).velocity({scale:.8},{duration:900,easing:[600,20]})},40*e)}),$("body").velocity({backgroundColor:"#fff"},600))}).on("dragend",function(t){i&&(console.log("released from drag"),e=!0,$("body").velocity("stop",!0),$("body").velocity({backgroundColor:"#d7d7d7"},1),$(".dice").velocity("stop",!0),$(".dice").velocity({scale:1,translateX:0,translateY:0},{easing:[400,20],complete:function(){i=!1}}),$(".dice").each(function(){var e=getRandomColor();$(this).css("background-color",e),$(this).find(".swiper").find(".ingredient-text").html(randomIngredient());var t=$(this).find(".swiper").find(".ingredient-text").html().length,i=19*t;$(this).find(".svg-handler").css("width",i+"px"),$(this).find(".svg-handler").css("left",($(this).width()-i)/2+"px")}))});var r=!1,a=!1,l=!1,c=!1;$(".swipeable").hammer().on("touch",function(e){e.gesture.preventDefault(!0);var t=$(this);setTimeout(function(){i||o||($(t).bringToTop(),$(t).velocity({boxShadowBlur:30},{duration:2,complete:function(){c=!0},begin:function(){foucused=!1,r=!0}}))},50)});var h=!1,d=!1;$(".swipeable").hammer().on("dragleft",function(e){if(!i&&!o){if(e.gesture.preventDefault(),!c)return void console.log("aha!");$(this).find(".swiper").css("left",0+e.gesture.deltaX+"px"),$(this).find(".swiper").velocity({opacity:e.gesture.deltaX.map(0,-100,1,0)},1),e.gesture.deltaX<-100&&(h=!0)}}),$(".swipeable").hammer().on("dragright",function(e){if(!i&&!o){if(e.gesture.preventDefault(),!c)return void console.log("aha!");d=!0,$(this).find(".swiper").css("left",0+e.gesture.deltaX+"px"),$(this).find(".swiper").velocity({opacity:e.gesture.deltaX.map(0,100,1,0)},1),e.gesture.deltaX>100&&(h=!0)}}),$(".swipeable").hammer().on("release",function(e){if(!i&&!o){if(r&&(a||$(this).velocity("stop",!0),$(this).velocity({boxShadowBlur:0},{duration:300,complete:function(){r=!1}})),a&&$(this).velocity({boxShadowBlur:0,scale:1},{duration:300,complete:function(){r=!1}}),h){h=!1,$(this).find(".swiper").css("opacity","0"),$(this).find(".swiper").css("left","0%");var t=getRandomColor();console.log(t),$(this).velocity({backgroundColor:t},{duration:250}),$(this).find(".swiper").find(".ingredient-text").html(randomIngredient()),d?($(this).find(".swiper").velocity("transition.bounceLeftIn",600),d=!1):$(this).find(".swiper").velocity("transition.bounceRightIn",600)}else d?($(this).find(".swiper").velocity({left:"0%",opacity:1},200),d=!1):$(this).find(".swiper").velocity({left:"0%",opacity:1},200);if($(this).hasClass("dice")){var n=$(this).find(".swiper").find(".ingredient-text").html().length,s=19*n;$(this).find(".svg-handler").css("width",s+"px"),$(this).find(".svg-handler").css("left",($(this).width()-s)/2+"px")}}})});